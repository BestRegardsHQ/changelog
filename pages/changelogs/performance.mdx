import { MdxLayout } from "components/mdx-layout.tsx";

export const meta = {
  slug: "performance",
  publishedAt: "2023-06-30T09:00:00.000Z",
  title: "Leveling up our performance",
  headerImage: "https://june-changelog.s3.eu-central-1.amazonaws.com/performance/header.png",
  authors: [
    {
      name: "Alberto Incisa della Rocchetta",
      description: "Product & Growth",
      avatarUrl: "https://june-changelog.s3.eu-central-1.amazonaws.com/dscf5588_2_6dcd0ce29c.jpg",
    },
    {
      name: "Ferruccio Balestreri",
      description: "Engineer",
      avatarUrl:
        "https://june-changelog.s3.eu-central-1.amazonaws.com/Gut_Ec_N_Ky_400x400_0c189fcaa5.jpg",
    },
    {
      name: "Daniel Beere",
      description: "Designer",
      avatarUrl:
        "https://june-changelog.s3.eu-central-1.amazonaws.com/T01_AS_9_R1_RDL_U03_C1_S7_F5_A5_90609690daa6_512_5071aad8fc.jpeg",
    },
    {
      name: "Adis Banda",
      description: "Engineer",
      avatarUrl: "https://june-changelog.s3.eu-central-1.amazonaws.com/IMG_3227_939da5481a.PNG",
    },
    {
      name: "Vinayak Mehta",
      description: "Engineer",
      avatarUrl:
        "https://june-changelog.s3.eu-central-1.amazonaws.com/T01_AS_9_R1_RDL_U01_F830_FTC_7_94c9c8095b13_512_893705b288.jpeg",
    },
    {
      name: "Enzo Avigo",
      description: "Product",
      avatarUrl:
        "https://june-changelog.s3.eu-central-1.amazonaws.com/O_Doeqb_IW_400x400_47f624ed6e.jpg",
    },
  ],
};

We've been adding a lot of depth to our product over the last few months, and now need to make sure that we're not sacrificing performance in the process.

Last week we went on a team retreat in the French Alps, and we took the opportunity to work on some performance improvements.

The main things we worked on were:

- **Reducing the amount of queries we run at the same time**
- **Only loading data when a chart is visible**
- **Improving our caching strategy**

## Reducing the amount of queries we run at the same time

To make sure that we're not overloading our database, we've added a limit to the number of queries we run at the same time.

We've got tremendous performance improvements by queuing queries and running them in batches of not more than 10 at a time.

From an end-user perspective, there's no difference in the way the app works, but we're now able to handle a lot more traffic without any issues.

## Only loading data when a chart is visible

In the past, when you opened a feature report, we were running 36 queries at the same time. This was causing a lot of issues, especially when we had a lot of users on the platform.

We've now changed the way we load data, and we're only loading data when a chart is visible on the screen. This means that now when a user opens a feature report, we're only running 6 queries at the same time, so the charts load a lot faster.

## Improving our caching strategy

On top of all these changes, we've also improved our caching. This means that now we pre-compute a lot of data, so we don't have to run as many queries when a user opens a report.

Especially for our larger customers, this has made a huge difference in the way the app works. In the past we had to manually opt-in bigger customers to aggressive caching, but now we're able to do it for everyone automatically.

# Improved Amplitude and Mixpanel data imports

In the past, a lot of our customers would get stuck when importing data from Amplitude or Mixpanel. This was because sometimes people would give us the wrong credentials, and we wouldn't be able to tell them what was wrong.

We've now added some validation to our data imports, so we can tell people what's wrong with their credentials before they start importing data.

This means that we show an error message right away if someone gives us the wrong credentials, so they can fix it without having to talk to us.

**Other improvements**

- We introduced a user deletion API, so you can now delete users from your account using our API. You can find the documentation [here](https://help.june.so/en/articles/8061155-programmatically-delete-users).

export default ({ children, ...rest }) => (
  <MdxLayout meta={meta} {...rest}>
    {children}
  </MdxLayout>
);
